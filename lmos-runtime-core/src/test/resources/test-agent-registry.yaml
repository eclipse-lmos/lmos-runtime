#
# // SPDX-FileCopyrightText: 2025 Deutsche Telekom AG and others
# //
# // SPDX-License-Identifier: Apache-2.0
#

channelRoutings:
  - metadata:
      name: "acme-web-stable"
      namespace: "test"
      labels:
        version: "1.0.0"
        tenant: "acme"
        channel: "web"
        subset: "stable"
    spec:
      capabilityGroups:
        - name: "contract-agent"
          description: "Contract agent for acme-web-stable"
          capabilities:
            - name: "view-contract"
              providedVersion: "1.1.0"
              description: "View a contract"
              host: "contract-agent-stable-svc"
  - metadata:
      name: "acme-web-generic"
      namespace: "test"
      labels:
        version: "1.0.1"
        tenant: "acme"
        channel: "web"
        # No subset specified, should match if no subset is requested or if it's a fallback
      # Ensure subset is nullable in Labels or handled if missing
    spec:
      capabilityGroups:
        - name: "contract-agent-generic"
          description: "Generic Contract agent for acme-web"
          capabilities:
            - name: "view-contract"
              providedVersion: "1.0.0"
              description: "View a contract (generic)"
              host: "contract-agent-generic-svc"
  - metadata:
      name: "another-tenant-app-beta"
      namespace: "test"
      labels:
        version: "2.0.0"
        tenant: "another-tenant"
        channel: "app"
        subset: "beta"
    spec:
      capabilityGroups:
        - name: "beta-feature-agent"
          description: "Beta agent for another-tenant"
          capabilities:
            - name: "test-feature"
              providedVersion: "2.0.0"
              description: "Test a new feature"
              host: "beta-agent-svc"
